[build]
  command = "npm run build"
  publish = "build/client"

# Redirect from /client/index.html to root
[[redirects]]
  from = "/client/*"
  to = "/:splat"
  status = 301
  force = true

# Direct route handling for common paths
[[redirects]]
  from = "/login"
  to = "/index.html"
  status = 200

[[redirects]]
  from = "/landing"
  to = "/index.html"
  status = 200

[[redirects]]
  from = "/dashboard"
  to = "/index.html"
  status = 200

# Handle SPA routing
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[build.environment]
  NODE_VERSION = "18" 